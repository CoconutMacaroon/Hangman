<!DOCTYPE html>
<!-- THIS IS THE HTML, so I am not having a ton of comments, but I will comment the JS. -->
<html>

<head>
    <meta charset="UTF-8">
    <title>Hangman</title>
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="wordFunctions.js"></script>
</head>

<body>
    <h1>Hangman</h1>
    <p>Welcome to Hangman. I am thinking of a word. Guess letters until you uncover the word.</p>
    <h2 id="guessingWord"></h2>
    <h2>Attempts remaining: </h2>
    <h2 id="guessCounter"></h2>
    <script>
        var word = getRandomWord(); // create a variable
        console.log(word); // write to the console, this is the equavalent-ish of print() in python
        
        document.getElementById('guessCounter').innerHTML = 10
        document.getElementById("guessingWord").innerHTML = "-".repeat(word.length - 1);
        function loseLogic(){if(document.getElementById('guessCounter').innerHTML==0){alert("You lose! The word was " + word + ".");window.close();}}
        function buttonClickLogic() {
            // disable the button
            this.disabled = true;
            
            // lower the guess counter
            if(document.getElementById('guessCounter').innerHTML > 0) {
                document.getElementById('guessCounter').innerHTML--;
            }

            // for each letter in the word
            for(var i = 0; i < word.length - 1; i++) {
                // if the current letter (in the word) matches the buttons's letter
                if(this.innerHTML.toLowerCase() == word[i]) {
                    // change the hyphen from guessingWord to be the button's letter
                    document.getElementById('guessingWord').innerHTML=document.getElementById('guessingWord').innerHTML.replaceAt(i, this.innerHTML.toLowerCase());
                }
            }

            if(document.getElementById("guessingWord").innerHTML.replace(/[^-]/g, "").length == 0) {
                // for the conditional, this was (slightly modified) from https://stackoverflow.com/a/2903549
                alert("You won!");
                window.close();
            }

            // check to see if the game is over
        }
    </script>
    Guess a letter:<br>
    <!-- This contains the buttons that go with the letters -->
    <div>
        <!-- To add some information, `buttonClickLogic.bind(this)() calls that function in the context of the button, in other words, it calls that function as if the code was directly in the button element. Also, although modified to fit this, thanks to https://stackoverflow.com/a/20635010 for explainning how to not have the code in every single button (and make it a function). -->
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">A</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">B</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">C</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">D</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">E</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">F</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">G</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">H</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">I</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">J</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">K</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">L</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">M</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">N</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">O</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">P</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">Q</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">R</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">S</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">T</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">U</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">V</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">W</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">X</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">Y</button>
        <button class="letterButton" onclick="buttonClickLogic.bind(this)();loseLogic()">Z</button>
    </div>
</body>
</html>
